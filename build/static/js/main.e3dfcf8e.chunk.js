(this["webpackJsonpreact-control"]=this["webpackJsonpreact-control"]||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/humidity.7dd418c2.png"},16:function(e,t){e.exports="data:image/png;base64,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"},18:function(e,t,a){e.exports=a(30)},28:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),i=a.n(c),m=a(2),s=a.n(m),l=a(6),o=a(8),u=a(10),A=a.n(u),g=(a(12),a(9)),p=a(7),E=a(15),d=a.n(E),f=a(16),w=a.n(f);var T,x=function(e){var t=e.isLoading;return r.a.createElement(p.a,{className:"card center bg-dark ".concat(t?"blur":" ")},r.a.createElement(p.a.Header,{className:"header"},"Alarm clock"),r.a.createElement(p.a.Body,null,r.a.createElement(p.a.Text,null,"Currently alarm is set to:"," ",r.a.createElement("span",{className:"time"},e.alarmTime||"Loading..."),r.a.createElement("br",null),"Remaining time:"," ",r.a.createElement("span",{className:"time"},void 0===e.remainingTime?"Loading...":String(e.remainingTime).substring(0,2)+"h "+String(e.remainingTime).substring(3,5)+"m"),r.a.createElement("br",null),"Current alarm state: ",r.a.createElement("span",{className:"time"},e.alarmState),r.a.createElement("br",null),r.a.createElement("img",{src:w.a,width:"110px",alt:"temperatureIcon"}),r.a.createElement("span",null,e.temperature||"Loading...","\xb0C"),r.a.createElement("br",null),r.a.createElement("img",{src:d.a,width:"110px",alt:"humidityIcon"}),r.a.createElement("span",null,e.humidity||"Loading...","%"),r.a.createElement("br",null),"Choose the alarm time here:"," ",r.a.createElement("input",{className:"timepicker bg-dark",type:"time",id:"alarmTime",onChange:e.changeAlarmTime})),r.a.createElement(g.a,{variant:"primary",onClick:e.sendDataToRemoteFunction},"Send time data"),r.a.createElement(g.a,{variant:"primary",onClick:e.switchAlarmStateFunction},"Switch state"),r.a.createElement(g.a,{variant:"primary",onClick:e.testAlarmFunction},"Test alarm!"),r.a.createElement(g.a,{variant:"primary",onClick:e.refreshDataFunction},"\u21bb"),r.a.createElement("div",{className:"loader"},r.a.createElement(A.a,{size:150,color:"#123abc",loading:t}))))};function h(e,t){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://control.gbaranski.com"+t,console.log(n),e.next=4,fetch(n,{method:"POST",headers:a}).catch((function(e){alert(e)}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return B.apply(this,arguments)}function B(){return(B=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://control.gbaranski.com".concat(t),{method:"POST"});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e.GET_DATA_ALARMCLOCK="/getAlarmclockESPData",e.GET_DATA_WATERMIXER="/getWatermixerESPData"}(T||(T={}));var C=function(){var e=Object(n.useState)({temperature:0,humidity:0,remainingTime:"",alarmTime:"",alarmState:!1}),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),m=Object(o.a)(i,2),u=m[0],A=m[1],g=Object(n.useState)(""),p=Object(o.a)(g,2),E=p[0],d=p[1];return Object(n.useEffect)((function(){setInterval(Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.hasFocus()&&b(T.GET_DATA_ALARMCLOCK).then((function(e){c(e)}));case 1:case"end":return e.stop()}}),e)}))),1e3)}),[]),r.a.createElement("div",null,r.a.createElement(x,{temperature:a.temperature,humidity:a.humidity,remainingTime:a.remainingTime,alarmTime:a.alarmTime,alarmState:a.alarmState,changeAlarmTime:function(e){return d(e.target.value)},refreshDataFunction:Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,b(T.GET_DATA_ALARMCLOCK);case 3:setTimeout((function(){A(!1)}),1e3);case 4:case"end":return e.stop()}}),e)}))),sendDataToRemoteFunction:Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),(t=new Headers).append("time",E),e.next=5,h("/setAlarm",t);case 5:setTimeout((function(){return A(!1)}),1e3);case 6:case"end":return e.stop()}}),e)}))),switchAlarmStateFunction:Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),(t=new Headers).append("state",String(a.alarmState?1:0)),e.next=5,h("/setAlarmState",t);case 5:setTimeout((function(){return A(!1)}),1e3);case 6:case"end":return e.stop()}}),e)}))),testAlarmFunction:Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),t=new Headers,e.next=4,h("/testAlarm",t);case 4:setTimeout((function(){return A(!1)}),1e3);case 5:case"end":return e.stop()}}),e)}))),isLoading:u}))};var D=function(e){var t=e.isLoading;return r.a.createElement(p.a,{className:"card center bg-dark ".concat(t?"blur":" ")},r.a.createElement(p.a.Header,{className:"header"},"Watermixer"),r.a.createElement(p.a.Body,null,r.a.createElement(p.a.Text,null,"Currently water should be:"," ",r.a.createElement("span",{className:"time"},void 0===e.waterState?"Loading":"1"===e.waterState?"warm":"cold",r.a.createElement("br",null)),"Remaining time:"," ",r.a.createElement("span",{className:"time"},void 0===e.remainingTime?"Loading":Math.floor(e.remainingTime/60%60)+"minutes"+e.remainingTime%60+"seconds"),r.a.createElement("br",null)),r.a.createElement(g.a,{variant:"primary",onClick:e.startMixingFunction},"Start mixing water"),r.a.createElement("div",{className:"loader"},r.a.createElement(A.a,{size:150,color:"#123abc",loading:t}))))};var k=function(){var e=Object(n.useState)({isTimerOn:!1,remainingSeconds:0}),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),m=Object(o.a)(i,2),u=m[0],A=m[1];return Object(n.useEffect)((function(){setInterval(Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.hasFocus()&&b(T.GET_DATA_WATERMIXER).then((function(e){c(e),console.log(e)}));case 1:case"end":return e.stop()}}),e)}))),2e3)}),[]),r.a.createElement("div",null,r.a.createElement(D,{waterState:a.isTimerOn,remainingTime:a.remainingSeconds,startMixingFunction:Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),t=new Headers,e.next=4,h("/startMixing",t);case 4:setTimeout((function(){A(!1)}),1e3);case 5:case"end":return e.stop()}}),e)}))),isLoading:u}))},j=(a(28),a(32)),N=a(33),G=a(34);i.a.render(r.a.createElement(j.a,null,r.a.createElement(N.a,null,r.a.createElement(G.a,{xs:12,xl:6},r.a.createElement(C,null)),r.a.createElement(G.a,{xs:12,xl:6},r.a.createElement(k,null)))),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.e3dfcf8e.chunk.js.map