(this["webpackJsonpcontrol-home-webiste"]=this["webpackJsonpcontrol-home-webiste"]||[]).push([[0],{296:function(e,t,a){e.exports=a(494)},494:function(e,t,a){"use strict";a.r(t);var n=a(20),r=a(13),c=a.n(r),i=a(21),o=a(0),l=a.n(o),s=a(17),u=a.n(s),m=a(569),p=a(497),d=a(541),g=a(565),f=a(567),h=a(227),E=a.n(h),b=a(71),v=a(538),x=a(539),y=a(537),w=a(568),O=a(540),S=a(78),k=a.n(S),j="https://api.gbaranski.com";function C(){var e=new Headers;return e.append("username",localStorage.getItem("username")||""),e.append("password",localStorage.getItem("password")||""),e}var N=function(){var e=Object(i.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(j,"/api/login"),e.next=3,fetch(t,{method:"POST",headers:C()});case 3:return a=e.sent,e.abrupt("return",200===a.status);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function D(){return(D=Object(i.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(j,"/api/getDeviceStatus"),e.next=3,fetch(t,{method:"GET",headers:C()});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.next=9,JSON.parse(n);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return I.apply(this,arguments)}function I(){return(I=Object(i.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(j,"/alarmclock/getData"),e.next=3,fetch(t,{method:"GET",headers:C()});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.t0=console,e.t1=JSON,e.next=11,n;case 11:return e.t2=e.sent,e.t3=e.t1.parse.call(e.t1,e.t2),e.t0.log.call(e.t0,e.t3),e.next=16,JSON.parse(n);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(i.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(j,"/alarmclock/getTempArray"),e.next=3,fetch(t,{method:"GET",headers:C()});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.next=9,JSON.parse(n);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(t.getHours(),":").concat(t.getMinutes()),(n=C()).append("time",a),e.next=5,fetch("".concat(j,"/alarmclock/setTime"),{method:"POST",headers:n});case 5:return r=e.sent,e.abrupt("return",r.ok);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return G.apply(this,arguments)}function G(){return(G=Object(i.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=C()).append("state",String(+!t)),e.next=4,fetch("".concat(j,"/alarmclock/switchState"),{method:"POST",headers:a});case 4:return n=e.sent,e.abrupt("return",n.ok);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return L.apply(this,arguments)}function L(){return(L=Object(i.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("gbaranski"===(t=C()).get("username")){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,fetch("".concat(j,"/alarmclock/testSiren"),{method:"POST",headers:t});case 7:return a=e.sent,e.abrupt("return",a.ok);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(j,"/watermixer/getData"),e.next=3,fetch(t,{method:"GET",headers:C()});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.t0=console,e.t1=JSON,e.next=11,n;case 11:return e.t2=e.sent,e.t3=e.t1.parse.call(e.t1,e.t2),e.t0.log.call(e.t0,e.t3),e.next=16,JSON.parse(n);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return W.apply(this,arguments)}function W(){return(W=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/watermixer/startMixing"),{method:"POST",headers:C()});case 2:return t=e.sent,e.abrupt("return",t.ok);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return l.a.createElement(b.a,{variant:"body2",color:"textSecondary",align:"center"},"Made by ",l.a.createElement(y.a,{href:"https://github.com/gbaranski",target:"blank"},"Grzegorz Baranski"))}var U=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(1,0,2)}}}));function K(e){var t=U(),a=l.a.useState(""),r=Object(n.a)(a,2),o=r[0],s=r[1],u=l.a.useState(""),h=Object(n.a)(u,2),v=h[0],y=h[1],S=l.a.useState(!1),j=Object(n.a)(S,2),C=j[0],D=j[1],T=l.a.useState(""),I=Object(n.a)(T,2),B=I[0],z=I[1],P=function(){D(!1)},H=function(){var t=Object(i.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),localStorage.setItem("username",o),localStorage.setItem("password",v),t.next=5,N();case 5:t.sent?(e.setAttemptedToLogin(!0),e.setLoggedIn(!0)):(z("Failed logging in"),D(!0));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return l.a.createElement(x.a,{component:"main",maxWidth:"xs"},l.a.createElement(w.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:C,autoHideDuration:6e3,onClose:P,message:B,action:l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{color:"secondary",size:"small",onClick:P},"UNDO"),l.a.createElement(O.a,{size:"small","aria-label":"close",color:"inherit",onClick:P},l.a.createElement(k.a,{fontSize:"small"})))}),l.a.createElement(d.a,null),l.a.createElement("div",{className:t.paper},l.a.createElement(m.a,{className:t.avatar},l.a.createElement(E.a,null)),l.a.createElement(b.a,{component:"h1",variant:"h5"},"Sign in"),l.a.createElement("form",{className:t.form,autoComplete:"off",onSubmit:H},l.a.createElement(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Username",name:"email",value:o,onChange:function(e){return s(e.target.value)},autoFocus:!0}),l.a.createElement(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:v,onChange:function(e){return y(e.target.value)}}),l.a.createElement(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:H},"Sign In"))),l.a.createElement(f.a,{mt:1},l.a.createElement(M,null)))}var q=a(54),Y=a(3),_=a(557),X=a(157),Z=a(36),Q=a(25);function V(e){return l.a.createElement(b.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}function $(e,t){return{time:e,amount:t}}var ee=[$("00:00",24.5),$("03:00",23.5),$("06:00",25.6),$("09:00",23),$("12:00",26.5),$("15:00",21.2),$("18:00",23.3),$("21:00",26.1),$("24:00",24.5)];function te(){var e=Object(Z.a)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(V,null,"Last 24 hours temperature"),l.a.createElement(Q.e,null,l.a.createElement(Q.d,{data:ee,margin:{top:16,right:16,bottom:0,left:24}},l.a.createElement(Q.g,{dataKey:"time",stroke:e.palette.text.secondary}),l.a.createElement(Q.h,{stroke:e.palette.text.secondary},l.a.createElement(Q.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary}},"Temperature (\xb0C)")),l.a.createElement(Q.c,{type:"monotone",dataKey:"amount",stroke:e.palette.primary.main,dot:!1}))))}var ae=a(547),ne=a(238),re=a.n(ne),ce=a(237),ie=a.n(ce),oe=a(543),le=a(544),se=a(546),ue=a(545);function me(){var e=l.a.useState({alarmclock:!1,watermixer:!1,gate:!1,garage:!1}),t=Object(n.a)(e,2),a=t[0],r=t[1];Object(o.useEffect)((function(){(function(){return D.apply(this,arguments)})().then((function(e){r(e),console.log(e)}))}),[]);var c=function(e){return e.state?l.a.createElement(ie.a,{style:{color:"rgb(32, 199, 155)"}}):l.a.createElement(re.a,{style:{color:"rgb(244, 188, 58)"}})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(V,null,"Devices Status"),l.a.createElement(oe.a,null,l.a.createElement(le.a,{key:1},l.a.createElement(ue.a,{primary:"Alarmclock",secondary:"192.168.1.110"}),l.a.createElement(se.a,null,l.a.createElement(c,{state:a.alarmclock}))),l.a.createElement(le.a,{key:2},l.a.createElement(ue.a,{primary:"Watermixer",secondary:"192.168.1.120"}),l.a.createElement(se.a,null,l.a.createElement(c,{state:a.watermixer}))),l.a.createElement(ae.a,{variant:"inset",component:"li"}),l.a.createElement(le.a,{key:3},l.a.createElement(ue.a,{primary:"Gate",secondary:"192.168.1.1xx"}),l.a.createElement(se.a,null,l.a.createElement(c,{state:a.gate}))),l.a.createElement(ae.a,{variant:"inset",component:"li"}),l.a.createElement(le.a,{key:4},l.a.createElement(ue.a,{primary:"Garage",secondary:"192.168.1.1xx"}),l.a.createElement(se.a,null,l.a.createElement(c,{state:a.garage}))),l.a.createElement(ae.a,{variant:"inset",component:"li"})))}var pe=a(119),de=a(571),ge=a(246),fe=a.n(ge),he=a(70),Ee=a(548),be=a(549),ve=a(239),xe=a.n(ve),ye=a(240),we=a.n(ye),Oe=a(241),Se=a.n(Oe),ke=a(242),je=a.n(ke),Ce=a(243),Ne=a.n(Ce),De=a(244),Te=a.n(De),Ie=function(e){switch(e.index){default:case 0:return l.a.createElement(xe.a,null);case 1:return l.a.createElement(we.a,null);case 2:return l.a.createElement(Se.a,null);case 3:return l.a.createElement(je.a,null)}},Be=function(e){if(0===e)return"Dashboard";var t=[Object.keys(he.Devices)[e-1]];return t[0]===he.Devices.Gate&&(t[0]="".concat(he.Devices.Gate," & ").concat(he.Devices.Garage)),t},ze=[he.Devices.Gate],Pe=function(e){return ze.includes(Object.values(he.Devices)[e-1])},He=l.a.createElement("div",null,l.a.createElement(be.a,{inset:!0},"More"),l.a.createElement(le.a,{button:!0,key:1},l.a.createElement(Ee.a,null,l.a.createElement(Ne.a,null)),l.a.createElement(ue.a,{primary:"About website"})),l.a.createElement(le.a,{button:!0,disabled:!0,key:2},l.a.createElement(Ee.a,null,l.a.createElement(Te.a,null)),l.a.createElement(ue.a,{primary:"Support"}))),Ge=a(550),Fe=a(551),Le=a(245),Ae=a.n(Le),Re=Object(v.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},toolbar:{paddingRight:24},title:{flexGrow:1},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},appBarSpacer:e.mixins.toolbar}}));function Je(e){var t=Re();return l.a.createElement(Ge.a,{position:"absolute",className:Object(Y.a)(t.appBar,e.open&&t.appBarShift)},l.a.createElement(Fe.a,{className:t.toolbar},l.a.createElement(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:e.handleDrawerOpen,className:Object(Y.a)(t.menuButton,e.open&&t.menuButtonHidden)},l.a.createElement(Ae.a,null)),l.a.createElement(b.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},e.pageName)))}var We=Object(v.a)((function(e){return{drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(pe.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),toolbarIcon:Object(q.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar)}}));var Me=function(e){var t=We();return l.a.createElement(l.a.Fragment,null,l.a.createElement(Je,{open:e.open,handleDrawerOpen:e.handleDrawerOpen,pageName:e.pageName}),l.a.createElement(de.a,{variant:"permanent",classes:{paper:Object(Y.a)(t.drawerPaper,!e.open&&t.drawerPaperClose)},open:e.open},l.a.createElement("div",{className:t.toolbarIcon},l.a.createElement(O.a,{onClick:e.handleDrawerClose},l.a.createElement(fe.a,null))),l.a.createElement(ae.a,null),l.a.createElement(oe.a,null,function(e){return[0,1,2,3].map((function(t,a){return l.a.createElement(le.a,{button:!0,selected:e.currentlyOpen===a,disabled:Pe(a),onClick:function(){return e.setPage(a)},key:a},l.a.createElement(Ee.a,null,l.a.createElement(Ie,{index:a})),l.a.createElement(ue.a,{primary:Be(a)}))}))}({setPage:e.setPage,currentlyOpen:e.currentlyOpen})),l.a.createElement(ae.a,null),l.a.createElement(oe.a,null,He)))};var Ue=function(){return l.a.createElement(b.a,{variant:"body2",color:"textSecondary",align:"center"},"Made by ",l.a.createElement(y.a,{target:"_blank",href:"https://github.com/gbaranski"},"Grzegorz Baranski")," ")},Ke=a(552),qe=a(556),Ye=a(555),_e=a(553),Xe=a(554);function Ze(e,t){var a=Object(o.useRef)();Object(o.useEffect)((function(){a.current=e}),[e]),Object(o.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}function Qe(e){return("0"+String(e)).slice(-2)}var Ve=a(125),$e=a.n(Ve),et={apiKey:"AIzaSyCpRLmvfBf-SpwkDUHKa_vrbEeIvSzHNOY",authDomain:"controlhome-7bbcc.firebaseapp.com",databaseURL:"https://controlhome-7bbcc.firebaseio.com",projectId:"controlhome-7bbcc",storageBucket:"controlhome-7bbcc.appspot.com",messagingSenderId:"794654805763",appId:"1:794654805763:web:9178272307d06e5eade336",measurementId:"G-J8271YJZER"};function tt(){return(tt=Object(i.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$e.a.firestore(),a=t.collection("requests").get(),n=[],e.next=5,a;case 5:return e.sent.forEach((function(e){var t=e.data();n.push(t)})),console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(){var e=l.a.useState([{}]),t=Object(n.a)(e,2),a=t[0],r=t[1];return Object(o.useEffect)((function(){(function(){return tt.apply(this,arguments)})().then((function(e){r(e)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(V,null,"Recent Requests"),l.a.createElement(Ke.a,{size:"small"},l.a.createElement(_e.a,null,l.a.createElement(Xe.a,null,l.a.createElement(Ye.a,null,"Date"),l.a.createElement(Ye.a,null,"User"),l.a.createElement(Ye.a,null,"Request"),l.a.createElement(Ye.a,null,"IP"),l.a.createElement(Ye.a,null,"Country"),l.a.createElement(Ye.a,null,"User-agent"))),l.a.createElement(qe.a,null,a.map((function(e,t){return l.a.createElement(Xe.a,{key:t},l.a.createElement(Ye.a,null,function(e){var t=new Date(e);return Qe(t.getHours())+":"+Qe(t.getMinutes())+"  "+Qe(t.getDate())+"/"+Qe(t.getMonth()+1)+"/"+t.getFullYear()}(new Date(e.unixTime))),l.a.createElement(Ye.a,null,e.user),l.a.createElement(Ye.a,null,e.requestPath),l.a.createElement(Ye.a,null,e.ip),l.a.createElement(Ye.a,null,e.country),l.a.createElement(Ye.a,null,e.userAgent))})))))}var nt=Object(v.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(q.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function rt(e){var t=nt(),a=Object(Y.a)(t.paper,t.fixedHeight);return l.a.createElement("div",{className:t.root},l.a.createElement(d.a,null),l.a.createElement(Me,{open:e.open,handleDrawerClose:function(){e.setOpen(!1)},handleDrawerOpen:function(){e.setOpen(!0)},currentlyOpen:0,setPage:e.setPage,pageName:"Dashboard"}),l.a.createElement("main",{className:t.content},l.a.createElement("div",{className:t.appBarSpacer}),l.a.createElement(x.a,{maxWidth:"lg",className:t.container},l.a.createElement(_.a,{container:!0,spacing:3},l.a.createElement(_.a,{item:!0,xs:12,md:8,lg:9},l.a.createElement(X.a,{className:a},l.a.createElement(te,null))),l.a.createElement(_.a,{item:!0,xs:12,md:4,lg:3},l.a.createElement(X.a,{className:a},l.a.createElement(me,null))),l.a.createElement(_.a,{item:!0,xs:12},l.a.createElement(X.a,{className:t.paper},l.a.createElement(at,null)))),l.a.createElement(f.a,{pt:4},l.a.createElement(Ue,null)))))}var ct=a(156),it=a.n(ct);function ot(){var e=Object(Z.a)(),t=l.a.useState(),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(o.useEffect)((function(){(function(){return B.apply(this,arguments)})().then((function(e){c(e),console.log(e)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(V,null,"Last 24 hours temperature"),l.a.createElement(Q.e,null,l.a.createElement(Q.d,{data:r,margin:{top:16,right:16,bottom:0,left:24}},l.a.createElement(Q.g,{dataKey:"unixTime",domain:["auto","auto"],name:"Time",type:"number",tickFormatter:function(e){return it()(e).format("HH:mm")},stroke:e.palette.text.secondary},l.a.createElement(Q.a,{position:"bottom",style:{textAnchor:"middle",fill:e.palette.text.primary}},"Date (HH:mm)")),l.a.createElement(Q.h,{dataKey:"temp",name:"Temperature",stroke:e.palette.text.secondary},l.a.createElement(Q.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary}},"Temperature (\xb0C)")),l.a.createElement(Q.f,{formatter:function(e){return e+"\xb0C"},labelFormatter:function(e){return it()(e).format("HH:mm")}}),l.a.createElement(Q.b,{formatter:function(){return"Temperature \xb0C"},align:"right"}),l.a.createElement(Q.c,{type:"monotone",dataKey:"temp",stroke:e.palette.primary.main,dot:!1}))))}var lt=a(37),st=a(61),ut=a.n(st),mt=a(558);function pt(e){return e.data.map((function(e){return l.a.createElement(p.a,{color:"primary",onClick:e.onClick,variant:"outlined"},e.innerText)}))}var dt=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(V,null,"Manage Device"),l.a.createElement(mt.a,{color:"primary","aria-label":"outlined primary button group grouped"},l.a.createElement(pt,{data:e.data,root:!0,grouped:!0})))};function gt(e){return e.data.map((function(e,t){return l.a.createElement(le.a,{key:t},e.icon&&l.a.createElement(se.a,null,e.icon),l.a.createElement(ue.a,{primary:e.title,secondary:e.description}))}))}var ft=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(V,null,"Device Info"),l.a.createElement(gt,{data:e.data}))},ht=a(62),Et=a.n(ht),bt=a(559),vt=a(560),xt=a(561),yt=a(562),wt=a(563),Ot=a(23),St=a(566),kt=a(123),jt=Object(v.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(q.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},buttonSuccess:{backgroundColor:Et.a[500],"&:hover":{backgroundColor:Et.a[700]}},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:Et.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));var Ct=function(e){var t=jt(),a=localStorage.getItem("lastAlarmclockData"),r=a?JSON.parse(a):void 0,o=l.a.useState(r||void 0),s=Object(n.a)(o,2),u=s[0],m=s[1],g=l.a.useState(!1),h=Object(n.a)(g,2),E=h[0],b=h[1],v=l.a.useState(new Date),y=Object(n.a)(v,2),S=y[0],j=y[1],C=l.a.useState(!1),N=Object(n.a)(C,2),D=N[0],I=N[1],B=l.a.useState(""),P=Object(n.a)(B,2),G=P[0],L=P[1],A=function(){I(!1)},R=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:t=e.sent,L(t?"Success testing siren!":"Server is down, or You don't have permisison for that :)!"),I(!0),setTimeout((function(){I(!1)}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Switching alamr state"),!u){e.next=9;break}return e.next=4,H(u.alarmState);case 4:L("Success changing alarm state!"),I(!0),setTimeout((function(){I(!1)}),1e3),e.next=12;break;case 9:L("Something went wrong!"),I(!0),setTimeout((function(){I(!1)}),1e3);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!1),e.next=3,z(S);case 3:t=e.sent,L(t?"Success changing alarm time!":"Failed during changing alarm time!"),I(!0),setTimeout((function(){I(!1)}),1e3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Ze(Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,m(t),localStorage.setItem("lastAlarmclockData",JSON.stringify(t));case 5:case"end":return e.stop()}}),e)}))),1e3);var M=Object(Y.a)(t.paper,t.fixedHeight),U=[{title:"Temperature",description:(null===u||void 0===u?void 0:u.temperature)+"\xb0C / "+(null===u||void 0===u?void 0:u.heatIndex)+"\xb0C"||!1,icon:l.a.createElement(ut.a,{path:lt.c,size:2,color:"rgb(117,117,117)"})},{title:"Humidity",description:(null===u||void 0===u?void 0:u.humidity)+"%"||!1,icon:l.a.createElement(ut.a,{path:lt.d,size:2,color:"rgb(117,117,117)"})},{title:"Remaining time",description:(null===u||void 0===u?void 0:u.remainingTime)||"",icon:l.a.createElement(ut.a,{path:lt.b,size:1.5,color:"rgb(117,117,117)",style:{marginLeft:"8%"}})},{title:"Alarm time",description:(null===u||void 0===u?void 0:u.alarmTime)+"".concat((null===u||void 0===u?void 0:u.alarmState)?" ON":" OFF")||"",icon:l.a.createElement(ut.a,{path:lt.a,size:1.5,color:"rgb(117,117,117)",style:{marginLeft:"8%"}})}];return l.a.createElement(Ot.a,{utils:kt.a},l.a.createElement("div",{className:t.root},l.a.createElement(bt.a,{open:E,onClose:function(){return b(!1)},"aria-labelledby":"form-dialog-title"},l.a.createElement(vt.a,{id:"form-dialog-title"},"Set new Alarm Time"),l.a.createElement(xt.a,null,l.a.createElement(yt.a,null,"Use time input below to set new alarm time, press Save to save that to remote ESP microcontroller"),l.a.createElement(St.a,{margin:"normal",id:"time-picker",label:"Time picker",value:S,required:!0,onChange:function(e){j(e)},minutesStep:5,ampm:!1,KeyboardButtonProps:{"aria-label":"change time"}})),l.a.createElement(wt.a,null,l.a.createElement(p.a,{onClick:function(){return b(!1)},color:"primary"},"Cancel"),l.a.createElement(p.a,{onClick:function(){return W()},color:"primary"},"Save"))),l.a.createElement(w.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:D,autoHideDuration:6e3,onClose:A,message:G,action:l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{color:"secondary",size:"small",onClick:A},"UNDO"),l.a.createElement(O.a,{size:"small","aria-label":"close",color:"inherit",onClick:A},l.a.createElement(k.a,{fontSize:"small"})))}),l.a.createElement(d.a,null),l.a.createElement(Me,{open:e.open,handleDrawerClose:function(){e.setOpen(!1)},handleDrawerOpen:function(){e.setOpen(!0)},currentlyOpen:1,setPage:e.setPage,pageName:"Alarmclock"}),l.a.createElement("main",{className:t.content},l.a.createElement("div",{className:t.appBarSpacer}),l.a.createElement(x.a,{maxWidth:"lg",className:t.container},l.a.createElement(_.a,{container:!0,spacing:3},l.a.createElement(_.a,{item:!0,xs:12,md:8,lg:9},l.a.createElement(X.a,{className:M},l.a.createElement(ot,null))),l.a.createElement(_.a,{item:!0,xs:12,md:4,lg:3},l.a.createElement(X.a,{className:M},l.a.createElement(ft,{data:U}))),l.a.createElement(_.a,{item:!0,xs:12},l.a.createElement(X.a,{className:t.paper},l.a.createElement(dt,{data:[{onClick:R,innerText:"Test alarm"},{onClick:function(){b(!0)},innerText:"Set alarm time"},{onClick:J,innerText:"Switch alarm state"}]})))),l.a.createElement(f.a,{pt:4},l.a.createElement(Ue,null))))))},Nt=Object(v.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(q.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},buttonSuccess:{backgroundColor:Et.a[500],"&:hover":{backgroundColor:Et.a[700]}},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:Et.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));var Dt=function(e){var t=Nt(),a=localStorage.getItem("lastWatermixerData"),r=a?JSON.parse(a):void 0,o=l.a.useState(r||void 0),s=Object(n.a)(o,2),u=s[0],m=s[1],g=l.a.useState(!1),h=Object(n.a)(g,2),E=h[0],b=h[1],v=l.a.useState(""),y=Object(n.a)(v,2),S=y[0],j=y[1],C=function(){b(!1)},N=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:e.sent,j("Success mixing water!"),b(!0),setTimeout((function(){b(!1)}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Ze(Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,m(t),localStorage.setItem("lastWatermixerData",JSON.stringify(t));case 5:case"end":return e.stop()}}),e)}))),1e3);var D,T=Object(Y.a)(t.paper,t.fixedHeight),I=[{title:"Current state",description:"Water should be ".concat((null===u||void 0===u?void 0:u.isTimerOn)?"warm":"cold"),icon:l.a.createElement(ut.a,{path:lt.d,size:2,color:"rgb(117,117,117)"})},{title:"Remaining time",description:u?(D=u.remainingSeconds,"".concat(Math.floor(D/60%60),"m ").concat(D%60,"s")):"0",icon:l.a.createElement(ut.a,{path:lt.b,size:1.5,color:"rgb(117,117,117)",style:{marginLeft:"8%"}})}];return l.a.createElement(Ot.a,{utils:kt.a},l.a.createElement("div",{className:t.root},l.a.createElement(w.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:E,autoHideDuration:6e3,onClose:C,message:S,action:l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{color:"secondary",size:"small",onClick:C},"UNDO"),l.a.createElement(O.a,{size:"small","aria-label":"close",color:"inherit",onClick:C},l.a.createElement(k.a,{fontSize:"small"})))}),l.a.createElement(d.a,null),l.a.createElement(Me,{open:e.open,handleDrawerClose:function(){e.setOpen(!1)},handleDrawerOpen:function(){e.setOpen(!0)},currentlyOpen:2,setPage:e.setPage,pageName:"Watermixer"}),l.a.createElement("main",{className:t.content},l.a.createElement("div",{className:t.appBarSpacer}),l.a.createElement(x.a,{maxWidth:"lg",className:t.container},l.a.createElement(_.a,{container:!0,spacing:3},l.a.createElement(_.a,{item:!0,xs:12,md:8,lg:12},l.a.createElement(X.a,{className:T},l.a.createElement(ft,{data:I}))),l.a.createElement(_.a,{item:!0,xs:12},l.a.createElement(X.a,{className:t.paper},l.a.createElement(dt,{data:[{onClick:N,innerText:"Start mixing"}]})))),l.a.createElement(f.a,{pt:4},l.a.createElement(Ue,null))))))},Tt=a(247),It=a(564);var Bt=function(){return l.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",textAlign:"center",transform:"translate(-50%, -50%)"}},l.a.createElement(It.a,null),l.a.createElement(V,null,"Loading"))},zt=function(){var e=Object(i.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N(),e.next=3,n;case 3:if(!e.sent){e.next=5;break}t(!0);case 5:n.then((function(){return a(!0)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Pt=function(){Object(o.useEffect)((function(){$e.a.initializeApp(et),$e.a.analytics()}),[]);var e=Object(o.useState)(!1),t=Object(n.a)(e,2),a=t[0],r=t[1],c=Object(o.useState)(!1),i=Object(n.a)(c,2),s=i[0],u=i[1],m=Object(o.useState)(0),p=Object(n.a)(m,2),d=p[0],g=p[1],f=Object(o.useState)(!0),h=Object(n.a)(f,2),E=h[0],b=h[1];if(!s)return zt(r,u),l.a.createElement(Bt,null);if(!a&&s)return l.a.createElement(K,{setAttemptedToLogin:u,setLoggedIn:r});var v=function(e){Tt.isMobile&&b(!1),g(e)};switch(d){default:case 0:return l.a.createElement(rt,{setPage:v,open:E,setOpen:b});case 1:return l.a.createElement(Ct,{setPage:v,open:E,setOpen:b});case 2:return l.a.createElement(Dt,{setPage:v,open:E,setOpen:b})}};u.a.render(l.a.createElement(l.a.Fragment,null,l.a.createElement(Pt,null)),document.getElementById("root"))}},[[296,1,2]]]);
//# sourceMappingURL=main.1af08e90.chunk.js.map