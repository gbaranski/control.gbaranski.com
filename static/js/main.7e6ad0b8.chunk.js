(this["webpackJsonpcontrol-home-webiste"]=this["webpackJsonpcontrol-home-webiste"]||[]).push([[0],{303:function(e,t,a){e.exports=a(501)},501:function(e,t,a){"use strict";a.r(t);var n=a(256),r=a(20),c=a(13),l=a.n(c),i=a(22),o=a(0),s=a.n(o),u=a(17),m=a.n(u),p=a(23),d=a(81),f=a(3),E=a(556),g=a(557),h=a(575),b=a(558),v=a(559),x=a(162),y=a(40),w=a(28),O=a(73);function S(e){return s.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}function k(e,t){return{time:e,amount:t}}var j=[k("00:00",24.5),k("03:00",23.5),k("06:00",25.6),k("09:00",23),k("12:00",26.5),k("15:00",21.2),k("18:00",23.3),k("21:00",26.1),k("24:00",24.5)];function N(){var e=Object(y.a)();return s.a.createElement(s.a.Fragment,null,s.a.createElement(S,null,"Last 24 hours temperature"),s.a.createElement(w.e,null,s.a.createElement(w.d,{data:j,margin:{top:16,right:16,bottom:0,left:24}},s.a.createElement(w.g,{dataKey:"time",stroke:e.palette.text.secondary}),s.a.createElement(w.h,{stroke:e.palette.text.secondary},s.a.createElement(w.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary}},"Temperature (\xb0C)")),s.a.createElement(w.c,{type:"monotone",dataKey:"amount",stroke:e.palette.primary.main,dot:!1}))))}var C=a(549),D=a(245),T=a.n(D),I=a(244),z=a.n(I),B=a(545),H=a(546),F=a(548),L=a(547),A="https://api.gbaranski.com";function G(){var e=new Headers;return e.append("username",localStorage.getItem("username")||""),e.append("password",localStorage.getItem("password")||""),e}var P=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(A,"/api/login"),e.next=3,fetch(t,{method:"POST",headers:G()});case 3:return a=e.sent,e.abrupt("return",200===a.status);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function J(){return(J=Object(i.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(A,"/api/getDeviceStatus"),e.next=3,fetch(t,{method:"GET",headers:G()});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.next=9,JSON.parse(n);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(A,"/alarmclock/getData"),e.next=3,fetch(t,{method:"GET",headers:G()});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.t0=console,e.t1=JSON,e.next=11,n;case 11:return e.t2=e.sent,e.t3=e.t1.parse.call(e.t1,e.t2),e.t0.log.call(e.t0,e.t3),e.next=16,JSON.parse(n);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return K.apply(this,arguments)}function K(){return(K=Object(i.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(t.getHours(),":").concat(t.getMinutes()),(n=G()).append("time",a),e.next=5,fetch("".concat(A,"/alarmclock/setTime"),{method:"POST",headers:n});case 5:return r=e.sent,e.abrupt("return",r.ok);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return q.apply(this,arguments)}function q(){return(q=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=G()).append("state",String(+!t)),e.next=4,fetch("".concat(A,"/alarmclock/switchState"),{method:"POST",headers:a});case 4:return n=e.sent,e.abrupt("return",n.ok);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("gbaranski"===(t=G()).get("username")){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,fetch("".concat(A,"/alarmclock/testSiren"),{method:"POST",headers:t});case 7:return a=e.sent,e.abrupt("return",a.ok);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return Z.apply(this,arguments)}function Z(){return(Z=Object(i.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(A,"/watermixer/getData"),e.next=3,fetch(t,{method:"GET",headers:G()});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.t0=console,e.t1=JSON,e.next=11,n;case 11:return e.t2=e.sent,e.t3=e.t1.parse.call(e.t1,e.t2),e.t0.log.call(e.t0,e.t3),e.next=16,JSON.parse(n);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return V.apply(this,arguments)}function V(){return(V=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A,"/watermixer/startMixing"),{method:"POST",headers:G()});case 2:return t=e.sent,e.abrupt("return",t.ok);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){var e=s.a.useState({alarmclock:!1,watermixer:!1,gate:!1,garage:!1}),t=Object(r.a)(e,2),a=t[0],n=t[1];Object(o.useEffect)((function(){(function(){return J.apply(this,arguments)})().then((function(e){n(e),console.log(e)}))}),[]);var c=function(e){return e.state?s.a.createElement(z.a,{style:{color:"rgb(32, 199, 155)"}}):s.a.createElement(T.a,{style:{color:"rgb(244, 188, 58)"}})};return s.a.createElement(s.a.Fragment,null,s.a.createElement(S,null,"Devices Status"),s.a.createElement(B.a,null,s.a.createElement(H.a,{key:1},s.a.createElement(L.a,{primary:"Alarmclock",secondary:"192.168.1.110"}),s.a.createElement(F.a,null,s.a.createElement(c,{state:a.alarmclock}))),s.a.createElement(H.a,{key:2},s.a.createElement(L.a,{primary:"Watermixer",secondary:"192.168.1.120"}),s.a.createElement(F.a,null,s.a.createElement(c,{state:a.watermixer}))),s.a.createElement(C.a,{variant:"inset",component:"li"}),s.a.createElement(H.a,{key:3},s.a.createElement(L.a,{primary:"Gate",secondary:"192.168.1.1xx"}),s.a.createElement(F.a,null,s.a.createElement(c,{state:a.gate}))),s.a.createElement(C.a,{variant:"inset",component:"li"}),s.a.createElement(H.a,{key:4},s.a.createElement(L.a,{primary:"Garage",secondary:"192.168.1.1xx"}),s.a.createElement(F.a,null,s.a.createElement(c,{state:a.garage}))),s.a.createElement(C.a,{variant:"inset",component:"li"})))}var ee=a(550);var te=function(){return s.a.createElement(O.a,{variant:"body2",color:"textSecondary",align:"center"},"Made by ",s.a.createElement(ee.a,{target:"_blank",href:"https://github.com/gbaranski"},"Grzegorz Baranski")," ")},ae=a(551),ne=a(555),re=a(554),ce=a(552),le=a(553);function ie(e,t){var a=Object(o.useRef)();Object(o.useEffect)((function(){a.current=e}),[e]),Object(o.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}function oe(e){return("0"+String(e)).slice(-2)}var se=a(102),ue=a.n(se),me={apiKey:"AIzaSyCpRLmvfBf-SpwkDUHKa_vrbEeIvSzHNOY",authDomain:"controlhome-7bbcc.firebaseapp.com",databaseURL:"https://controlhome-7bbcc.firebaseio.com",projectId:"controlhome-7bbcc",storageBucket:"controlhome-7bbcc.appspot.com",messagingSenderId:"794654805763",appId:"1:794654805763:web:9178272307d06e5eade336",measurementId:"G-J8271YJZER"};function pe(){return(pe=Object(i.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ue.a.firestore(),a=t.collection("requests").get(),n=[],e.next=5,a;case 5:return e.sent.forEach((function(e){var t=e.data();n.push(t)})),console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(i.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ue.a.firestore(),a=t.collection("temp-history").get(),n=[],e.next=5,a;case 5:return e.sent.forEach((function(e){var t=e.data();n.push(t)})),console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(){var e=s.a.useState([{}]),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(o.useEffect)((function(){(function(){return pe.apply(this,arguments)})().then((function(e){n(e)}))}),[]),s.a.createElement(s.a.Fragment,null,s.a.createElement(S,null,"Recent Requests"),s.a.createElement(ae.a,{size:"small"},s.a.createElement(ce.a,null,s.a.createElement(le.a,null,s.a.createElement(re.a,null,"Date"),s.a.createElement(re.a,null,"User"),s.a.createElement(re.a,null,"Request"),s.a.createElement(re.a,null,"IP"),s.a.createElement(re.a,null,"Country"),s.a.createElement(re.a,null,"User-agent"))),s.a.createElement(ne.a,null,a.map((function(e,t){return s.a.createElement(le.a,{key:t},s.a.createElement(re.a,null,function(e){var t=new Date(e);return oe(t.getHours())+":"+oe(t.getMinutes())+"  "+oe(t.getDate())+"/"+oe(t.getMonth()+1)+"/"+t.getFullYear()}(new Date(e.unixTime))),s.a.createElement(re.a,null,e.user),s.a.createElement(re.a,null,e.requestPath),s.a.createElement(re.a,null,e.ip),s.a.createElement(re.a,null,e.country),s.a.createElement(re.a,null,e.userAgent))})))))}var Ee=Object(E.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function ge(){var e=Ee(),t=Object(f.a)(e.paper,e.fixedHeight);return s.a.createElement("div",{className:e.root},s.a.createElement(g.a,null),s.a.createElement("main",{className:e.content},s.a.createElement("div",{className:e.appBarSpacer}),s.a.createElement(b.a,{maxWidth:"lg",className:e.container},s.a.createElement(v.a,{container:!0,spacing:3},s.a.createElement(v.a,{item:!0,xs:12,md:8,lg:9},s.a.createElement(x.a,{className:t},s.a.createElement(N,null))),s.a.createElement(v.a,{item:!0,xs:12,md:4,lg:3},s.a.createElement(x.a,{className:t},s.a.createElement($,null))),s.a.createElement(v.a,{item:!0,xs:12},s.a.createElement(x.a,{className:e.paper},s.a.createElement(fe,null)))),s.a.createElement(h.a,{pt:4},s.a.createElement(te,null)))))}var he=a(567),be=a(159),ve=a.n(be);function xe(){var e=Object(y.a)(),t=s.a.useState(),a=Object(r.a)(t,2),n=a[0],c=a[1];return Object(o.useEffect)((function(){(function(){return de.apply(this,arguments)})().then((function(e){c(e.sort((function(e,t){return e.unixTime-t.unixTime})))}))}),[]),s.a.createElement(s.a.Fragment,null,s.a.createElement(S,null,"Last 24 hours temperature"),s.a.createElement(w.e,null,s.a.createElement(w.d,{data:n,margin:{top:16,right:16,bottom:0,left:24}},s.a.createElement(w.g,{dataKey:"unixTime",domain:["auto","auto"],name:"Time",type:"number",tickFormatter:function(e){return ve()(e).format("HH:mm")},stroke:e.palette.text.secondary},s.a.createElement(w.a,{position:"bottom",style:{textAnchor:"middle",fill:e.palette.text.primary}},"Date (HH:mm)")),s.a.createElement(w.h,{dataKey:"temperature",name:"Temperature",stroke:e.palette.text.secondary},s.a.createElement(w.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary}},"Temperature (\xb0C)")),s.a.createElement(w.f,{formatter:function(e){return e+"\xb0C"},labelFormatter:function(e){return ve()(e).format("HH:mm")}}),s.a.createElement(w.b,{formatter:function(){return"Temperature \xb0C"},align:"right"}),s.a.createElement(w.c,{type:"monotone",dataKey:"temperature",stroke:e.palette.primary.main,dot:!1}))))}var ye=a(41),we=a(64),Oe=a.n(we),Se=a(503),ke=a(560);function je(e){return e.data.map((function(e){return s.a.createElement(Se.a,{color:"primary",onClick:e.onClick,variant:"outlined"},e.innerText)}))}var Ne=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(S,null,"Manage Device"),s.a.createElement(ke.a,{color:"primary","aria-label":"outlined primary button group grouped"},s.a.createElement(je,{data:e.data,root:!0,grouped:!0})))};function Ce(e){return e.data.map((function(e,t){return s.a.createElement(H.a,{key:t},e.icon&&s.a.createElement(F.a,null,e.icon),s.a.createElement(L.a,{primary:e.title,secondary:e.description}))}))}var De=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(S,null,"Device Info"),s.a.createElement(Ce,{data:e.data}))},Te=a(561),Ie=a(562),ze=a(563),Be=a(564),He=a(565),Fe=a(88),Le=a.n(Fe),Ae=a(25),Ge=a(574),Pe=a(127),Je=a(576),We=Object(E.a)((function(e){return{root:{display:"flex"},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));var Re=function(){var e=We(),t=localStorage.getItem("lastAlarmclockData"),a=t?JSON.parse(t):void 0,n=s.a.useState(a||void 0),c=Object(r.a)(n,2),o=c[0],u=c[1],m=s.a.useState(!1),p=Object(r.a)(m,2),d=p[0],E=p[1],y=s.a.useState(new Date),w=Object(r.a)(y,2),O=w[0],S=w[1],k=s.a.useState(!1),j=Object(r.a)(k,2),N=j[0],C=j[1],D=s.a.useState(""),T=Object(r.a)(D,2),I=T[0],z=T[1],B=function(){C(!1)},H=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:t=e.sent,z(t?"Success testing siren!":"Server is down, or You don't have permisison for that :)!"),C(!0),setTimeout((function(){C(!1)}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Switching alamr state"),!o){e.next=9;break}return e.next=4,M(o.alarmState);case 4:z("Success changing alarm state!"),C(!0),setTimeout((function(){C(!1)}),1e3),e.next=12;break;case 9:z("Something went wrong!"),C(!0),setTimeout((function(){C(!1)}),1e3);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),e.next=3,U(O);case 3:t=e.sent,z(t?"Success changing alarm time!":"Failed during changing alarm time!"),C(!0),setTimeout((function(){C(!1)}),1e3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ie(Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:t=e.sent,u(t),localStorage.setItem("lastAlarmclockData",JSON.stringify(t));case 5:case"end":return e.stop()}}),e)}))),500);var A=Object(f.a)(e.paper,e.fixedHeight),G=[{title:"Temperature",description:(null===o||void 0===o?void 0:o.temperature)+"\xb0C / "+(null===o||void 0===o?void 0:o.heatIndex)+"\xb0C"||!1,icon:s.a.createElement(Oe.a,{path:ye.c,size:2,color:"rgb(117,117,117)"})},{title:"Humidity",description:(null===o||void 0===o?void 0:o.humidity)+"%"||!1,icon:s.a.createElement(Oe.a,{path:ye.d,size:2,color:"rgb(117,117,117)"})},{title:"Remaining time",description:(null===o||void 0===o?void 0:o.remainingTime)||"",icon:s.a.createElement(Oe.a,{path:ye.b,size:1.5,color:"rgb(117,117,117)",style:{marginLeft:"8%"}})},{title:"Alarm time",description:(null===o||void 0===o?void 0:o.alarmTime)+"".concat((null===o||void 0===o?void 0:o.alarmState)?" ON":" OFF")||"",icon:s.a.createElement(Oe.a,{path:ye.a,size:1.5,color:"rgb(117,117,117)",style:{marginLeft:"8%"}})}];return s.a.createElement(Ae.a,{utils:Pe.a},s.a.createElement("div",{className:e.root},s.a.createElement(Te.a,{open:d,onClose:function(){return E(!1)},"aria-labelledby":"form-dialog-title"},s.a.createElement(Ie.a,{id:"form-dialog-title"},"Set new Alarm Time"),s.a.createElement(ze.a,null,s.a.createElement(Be.a,null,"Use time input below to set new alarm time, press Save to save that to remote ESP microcontroller"),s.a.createElement(Ge.a,{margin:"normal",id:"time-picker",label:"Time picker",value:O,required:!0,onChange:function(e){S(e)},minutesStep:5,ampm:!1,KeyboardButtonProps:{"aria-label":"change time"}})),s.a.createElement(He.a,null,s.a.createElement(Se.a,{onClick:function(){return E(!1)},color:"primary"},"Cancel"),s.a.createElement(Se.a,{onClick:function(){return L()},color:"primary"},"Save"))),s.a.createElement(Je.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:N,autoHideDuration:6e3,onClose:B,message:I,action:s.a.createElement(s.a.Fragment,null,s.a.createElement(Se.a,{color:"secondary",size:"small",onClick:B},"UNDO"),s.a.createElement(he.a,{size:"small","aria-label":"close",color:"inherit",onClick:B},s.a.createElement(Le.a,{fontSize:"small"})))}),s.a.createElement(g.a,null),s.a.createElement("main",{className:e.content},s.a.createElement("div",{className:e.appBarSpacer}),s.a.createElement(b.a,{maxWidth:"lg",className:e.container},s.a.createElement(v.a,{container:!0,spacing:3},s.a.createElement(v.a,{item:!0,xs:12,md:8,lg:9},s.a.createElement(x.a,{className:A},s.a.createElement(xe,null))),s.a.createElement(v.a,{item:!0,xs:12,md:4,lg:3},s.a.createElement(x.a,{className:A},s.a.createElement(De,{data:G}))),s.a.createElement(v.a,{item:!0,xs:12},s.a.createElement(x.a,{className:e.paper},s.a.createElement(Ne,{data:[{onClick:H,innerText:"Test alarm"},{onClick:function(){E(!0)},innerText:"Set alarm time"},{onClick:F,innerText:"Switch alarm state"}]})))),s.a.createElement(h.a,{pt:4},s.a.createElement(te,null))))))},Ue=Object(E.a)((function(e){return{title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));var Ke=function(){var e=Ue(),t=localStorage.getItem("lastWatermixerData"),a=t?JSON.parse(t):void 0,n=s.a.useState(a||void 0),c=Object(r.a)(n,2),o=c[0],u=c[1],m=s.a.useState(!1),p=Object(r.a)(m,2),d=p[0],E=p[1],y=s.a.useState(""),w=Object(r.a)(y,2),O=w[0],S=w[1],k=function(){E(!1)},j=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:e.sent,S("Success mixing water!"),E(!0),setTimeout((function(){E(!1)}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ie(Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:t=e.sent,u(t),localStorage.setItem("lastWatermixerData",JSON.stringify(t));case 5:case"end":return e.stop()}}),e)}))),500);var N,C=Object(f.a)(e.paper,e.fixedHeight),D=[{title:"Current state",description:"Water should be ".concat((null===o||void 0===o?void 0:o.isTimerOn)?"warm":"cold"),icon:s.a.createElement(Oe.a,{path:ye.d,size:2,color:"rgb(117,117,117)"})},{title:"Remaining time",description:o?(N=o.remainingSeconds,"".concat(Math.floor(N/60%60),"m ").concat(N%60,"s")):"0",icon:s.a.createElement(Oe.a,{path:ye.b,size:1.5,color:"rgb(117,117,117)",style:{marginLeft:"8%"}})}];return s.a.createElement(Ae.a,{utils:Pe.a},s.a.createElement(Je.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:d,autoHideDuration:6e3,onClose:k,message:O,action:s.a.createElement(s.a.Fragment,null,s.a.createElement(Se.a,{color:"secondary",size:"small",onClick:k},"UNDO"),s.a.createElement(he.a,{size:"small","aria-label":"close",color:"inherit",onClick:k},s.a.createElement(Le.a,{fontSize:"small"})))}),s.a.createElement(g.a,null),s.a.createElement("main",{className:e.content},s.a.createElement("div",{className:e.appBarSpacer}),s.a.createElement(b.a,{maxWidth:"lg",className:e.container},s.a.createElement(v.a,{container:!0,spacing:3},s.a.createElement(v.a,{item:!0,xs:12,md:8,lg:12},s.a.createElement(x.a,{className:C},s.a.createElement(De,{data:D}))),s.a.createElement(v.a,{item:!0,xs:12},s.a.createElement(x.a,{className:e.paper},s.a.createElement(Ne,{data:[{onClick:j,innerText:"Start mixing"}]})))),s.a.createElement(h.a,{pt:4},s.a.createElement(te,null)))))},Me=[{path:"/",name:"root",main:function(){return s.a.createElement(p.a,{to:{pathname:"/dashboard"}})},exact:!0,protected:!0},{path:"/dashboard",name:"Dashboard",main:function(){return s.a.createElement(ge,null)},exact:!0,protected:!0},{path:"/alarmclock",name:"Alarmclock",main:function(){return s.a.createElement(Re,null)},exact:!0,protected:!0},{path:"/watermixer",name:"Watermixer",main:function(){return s.a.createElement(Ke,null)},exact:!0,protected:!0}],qe=a(577),Ye=a(573),_e=a(246),Xe=a.n(_e),Ze=Object(E.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(1,0,2)}}}));function Qe(e){var t=Ze(),a=s.a.useState(""),n=Object(r.a)(a,2),c=n[0],o=n[1],u=s.a.useState(""),m=Object(r.a)(u,2),p=m[0],d=m[1],f=s.a.useState(!1),E=Object(r.a)(f,2),v=E[0],x=E[1],y=s.a.useState(""),w=Object(r.a)(y,2),S=w[0],k=w[1],j=function(){x(!1)},N=function(){var t=Object(i.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),localStorage.setItem("username",c),localStorage.setItem("password",p),t.next=5,P();case 5:t.sent?(e.setAttemptedToLogin(!0),e.setLoggedIn(!0)):(k("Failed logging in"),x(!0));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return s.a.createElement(b.a,{component:"main",maxWidth:"xs"},s.a.createElement(Je.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:v,autoHideDuration:6e3,onClose:j,message:S,action:s.a.createElement(s.a.Fragment,null,s.a.createElement(Se.a,{color:"secondary",size:"small",onClick:j},"UNDO"),s.a.createElement(he.a,{size:"small","aria-label":"close",color:"inherit",onClick:j},s.a.createElement(Le.a,{fontSize:"small"})))}),s.a.createElement(g.a,null),s.a.createElement("div",{className:t.paper},s.a.createElement(qe.a,{className:t.avatar},s.a.createElement(Xe.a,null)),s.a.createElement(O.a,{component:"h1",variant:"h5"},"Sign in"),s.a.createElement("form",{className:t.form,autoComplete:"off",onSubmit:N},s.a.createElement(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Username",name:"email",value:c,onChange:function(e){return o(e.target.value)},autoFocus:!0}),s.a.createElement(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:p,onChange:function(e){return d(e.target.value)}}),s.a.createElement(Se.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:N},"Sign In"))),s.a.createElement(h.a,{mt:1},s.a.createElement(te,null)))}var Ve=a(568);var $e=function(){return s.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",textAlign:"center",transform:"translate(-50%, -50%)"}},s.a.createElement(Ve.a,null),s.a.createElement(S,null,"Loading"))},et=a(247),tt=a(126),at=a(578),nt=a(255),rt=a.n(nt),ct=a(570),lt=a(571),it=a(248),ot=a.n(it),st=a(249),ut=a.n(st),mt=a(250),pt=a.n(mt),dt=a(251),ft=a.n(dt),Et=a(252),gt=a.n(Et),ht=a(253),bt=a.n(ht),vt=a(72),xt=function(e){switch(e.index){default:case 0:return s.a.createElement(ot.a,null);case 1:return s.a.createElement(ut.a,null);case 2:return s.a.createElement(pt.a,null);case 3:return s.a.createElement(ft.a,null)}},yt=function(e){if(0===e)return"Dashboard";var t=[Object.keys(vt.DeviceList)[e-1]];return t[0]===vt.DeviceList.Gate&&(t[0]="".concat(vt.DeviceList.Gate," & ").concat(vt.DeviceList.Garage)),t},wt=[vt.DeviceList.Gate],Ot=s.a.forwardRef((function(e){return s.a.createElement(H.a,{button:!0,disabled:(t=e.index,wt.includes(Object.values(vt.DeviceList)[t-1])),key:e.index,onClick:e.navigate,selected:void 0!==e.className},s.a.createElement(ct.a,null,s.a.createElement(xt,{index:e.index})),s.a.createElement(L.a,{primary:yt(e.index)}));var t})),St=s.a.createElement("div",null,s.a.createElement(lt.a,{inset:!0},"More"),s.a.createElement(H.a,{button:!0,key:1},s.a.createElement(ct.a,null,s.a.createElement(gt.a,null)),s.a.createElement(L.a,{primary:"About website"})),s.a.createElement(H.a,{button:!0,disabled:!0,key:2},s.a.createElement(ct.a,null,s.a.createElement(bt.a,null)),s.a.createElement(L.a,{primary:"Support"}))),kt=a(572),jt=a(569),Nt=a(254),Ct=a.n(Nt),Dt=Object(E.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},toolbar:{paddingRight:24},title:{flexGrow:1},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"}}}));function Tt(e){var t,a=Dt();return s.a.createElement(kt.a,{position:"absolute",className:Object(f.a)(a.appBar,e.open&&a.appBarShift)},s.a.createElement(jt.a,{className:a.toolbar},s.a.createElement(he.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:e.handleDrawerOpen,className:Object(f.a)(a.menuButton,e.open&&a.menuButtonHidden)},s.a.createElement(Ct.a,null)),s.a.createElement(O.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title},(t=Object(p.g)().pathname.slice(1)).charAt(0).toUpperCase()+t.slice(1))))}var It=Object(E.a)((function(e){return{drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(tt.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),toolbarIcon:Object(et.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar)}}));var zt=function(e){var t=It();return s.a.createElement(s.a.Fragment,null,s.a.createElement(Tt,{open:e.open,handleDrawerOpen:e.handleDrawerOpen}),s.a.createElement(at.a,{variant:"permanent",classes:{paper:Object(f.a)(t.drawerPaper,!e.open&&t.drawerPaperClose)},open:e.open},s.a.createElement("div",{className:t.toolbarIcon},s.a.createElement(he.a,{onClick:e.handleDrawerClose},s.a.createElement(rt.a,null))),s.a.createElement(C.a,null),s.a.createElement(B.a,null,[0,1,2,3].map((function(e,t){return s.a.createElement(d.b,{to:function(){return function(e){switch(e){default:case 0:return"/dashboard";case 1:return"/alarmclock";case 2:return"/watermixer";case 3:return"/gate"}}(t)},activeClassName:"selected",index:t,component:Ot})}))),s.a.createElement(C.a,null),s.a.createElement(B.a,null,St)))},Bt=Object(E.a)((function(){return{root:{display:"flex"}}})),Ht=function(){var e=Object(i.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=P(),e.next=3,n;case 3:if(!e.sent){e.next=5;break}t(!0);case 5:n.then((function(){return a(!0)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ft=function(){var e=Bt();Object(o.useEffect)((function(){ue.a.initializeApp(me),ue.a.analytics()}),[]);var t=Object(o.useState)(!1),a=Object(r.a)(t,2),c=a[0],l=a[1],i=Object(o.useState)(!1),u=Object(r.a)(i,2),m=u[0],d=u[1],f=Object(o.useState)(!0),E=Object(r.a)(f,2),g=E[0],h=E[1];if(!m)return Ht(l,d),s.a.createElement($e,null);var b=function(e){var t=e.children,a=Object(n.a)(e,["children"]);return a.protected?s.a.createElement(p.b,Object.assign({},a,{render:function(e){var a=e.location;return c?t:s.a.createElement(p.a,{to:{pathname:"/login",state:{from:a}}})}})):s.a.createElement(p.b,Object.assign({},a,{render:function(e){e.location;return t}}))};return s.a.createElement("div",{className:e.root},c&&s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a,{to:{pathname:"/"}}),s.a.createElement(zt,{open:g,handleDrawerClose:function(){h(!1)},handleDrawerOpen:function(){h(!0)}})),s.a.createElement(p.d,null,Me.map((function(e,t){return s.a.createElement(b,{key:t,path:e.path,exact:e.exact,protected:e.protected,name:e.name,children:s.a.createElement(e.main,null)})})),s.a.createElement(p.b,{path:"/login",exact:!0},!c&&s.a.createElement(Qe,{setAttemptedToLogin:d,setLoggedIn:l}))))};m.a.render(s.a.createElement(d.a,null,s.a.createElement(Ft,null)),document.getElementById("root"))}},[[303,1,2]]]);
//# sourceMappingURL=main.7e6ad0b8.chunk.js.map